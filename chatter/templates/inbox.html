{% extends "home.html" %}
{% load static %}

{% block navbar %}
<li class="nav-item"><a href="{% url 'home' %}" class="nav-link"><i class="fas fa-home"></i> Home</a></li>
<li class="nav-item"><a href="{% url 'explore' %}" class="nav-link "><i class="fas fa-search"></i> Explore</a></li>
<li class="nav-item"><a href="{% url 'notifications' %}" class="nav-link "><i class="fas fa-bell"></i> Notifications</a></li> 
<li class="nav-item"><a href="{% url 'messages' %}" class="nav-link active"><i class="fas fa-paper-plane"></i> Messages</a></li>
{% endblock %}


{% block home %}

<link rel="stylesheet" href="{% static 'css/messages.css' %}">

<div class="all">

    <div class="comm">
        <a href="{% url 'messages' %}" class="back">Back</a>
    </div>

    <div class="inbox-container">
        <div class="receiver-container">
            <div class="receiver-header">
                <h1>{{thread.receiver}}</h1>
            </div>    
        </div>


        <!-- <div class="container">
            <div class="row">
                <div class="card10">
                        <h5 class="card-header bg-primary text-white"> {{thread.user}} </h5>
                
                        <h5 >From: {{thread.receiver}}</h5>  
                
                </div>
            </div>
        </div> -->

        {% if message_list.all.count == 0 %}
        <p>No Messages</p>
        {% endif %}
<!-- 
        <div class="container"> -->
            {% for message in message_list %}
            <!-- <div class="row"> -->
                {% if message.sender_user == request.user %}
                <!-- <div class="col"> -->
                    <p class="sent-message">{{ message.body }}</p> 
                <!-- </div>                        -->
                 {% elif message.receiver_user == request.user %}
                 <!-- <div class="col"> -->
                    <p class="received-message">{{ message.body }}</p> 
                <!-- </div>  -->
                {% endif %}
            {% endfor %}
            <!-- </div>
        </div> -->

        <div class="container">
            <div class="">
                <form method="post" action="{% url 'createmessage' thread.pk %}">
                    {% csrf_token %}
                    {{ form }}
                    <button>Send Message</button>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}